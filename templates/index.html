<!DOCTYPE html>
<html lang="en" ng-app="jewelryApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Jewelry Designer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="{{ url_for('static', filename='app.js') }}"></script>
        <style>
    .dropdowns-row{
     display: flex;
    gap: 20px; /* space between form groups */
    align-items: center;
    flex-wrap: wrap; /* allows wrapping on smaller screens */
    }       

    .form-group {
        display: flex;
        align-items: center;
    }

    .form-group label {
        width: 150px; /* Adjust width as needed */
        margin-right: 10px;
        text-align: left;
        font-weight: bold;
    }

    .form-group select {
        flex: 1;
        padding: 5px;
    }

    </style>
</head>
<body ng-controller="JewelryController as vm">

    <div class="container">
        <div class="main-content">
            <div class="left-panel">
                <h2>Design Your Custom Jewelry - Configure Your Design</h2>
                {% raw %} <div class="dropdowns-row">
                    <div class="form-group">
                        <label for="jewelryType">Type of Jewelry:</label>
                        <select id="jewelryType" ng-model="vm.design.jewelry_type">
                            <option value="">-- Select --</option>
                            <option value="ring">Ring</option>
                            <option value="bracelet">Bracelet</option>
                            <option value="pendant">Pendant</option>
                            <option value="earring">Earring</option>
                            <option value="necklace">Necklace</option>
                        </select>
                    </div>


                    <div class="form-group" ng-if="vm.design.jewelry_type">
                        <label>{{ vm.design.jewelry_type | capitalizeFirst }} Options:</label>
                        <select ng-model="vm.design.jewelry_option">
                            <option ng-repeat="option in vm.dynamicOptions[vm.design.jewelry_type]" value="{{option}}">
                                {{option}}
                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="metalType">Type of Metal:</label>
                        <select id="metalType" ng-model="vm.design.metal_type">
                            <option value="">-- Select --</option>
                            <option value="yellow gold">Yellow Gold</option>
                            <option value="white gold">White Gold</option>
                            <option value="rose gold">Rose Gold</option>
                            <option value="platinum">Platinum</option>
                            <option value="silver">Silver</option>
                            <option value="two tone gold">Two Tone Gold</option>
                            <option value="rose and white gold">Rose and White Gold</option>
                            <option value="yellow and white gold">Yellow and White Gold</option>
                        </select>
                    </div>
                </div>
                <div class="dropdowns-row:">
                    <div class="form-group">
                        <label for="Product style">Product Style:</label>
                        <select id="productStyle" ng-model="vm.design.product_style">
                            <option value="">-- Select --</option>
                            <option value="bridal">Bridal</option>
                            <option value="fashion">Fashion</option>
                            <option value="classic">Classic</option>
                            <option value="vintage">Vintage</option>
                            <option value="minimalist">Minimalist</option>
                            <option value="modern">Modern</option>
                            <option value="art_deco">Art Deco</option>
                            <option value="bohemian">Bohemian</option>
                            <option value="luxury">Luxury</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="settingType">Setting Type:</label>
                        <select id="settingType" ng-model="vm.design.setting_type">
                            <option value="">-- Select --</option>
                            <option value="prong">Prong</option>
                            <option value="bezel">Bezel</option>
                            <option value="pave">Pave</option>
                            <option value="channel">Channel</option>
                            <option value="bar">Bar</option>
                            <option value="tension">Tension</option>
                            <option value="invisible">Invisible</option>
                            <option value="halo">Halo</option>
                            <option value="cluster">Cluster</option>
                            <option value="illusion">Illusion</option>
                            <option value="micro_pave">Micro Pave</option>
                            <option value="bead">Bead</option>
                            <option value="shared_prong">Shared Prong</option>
                            <option value="v_prong">V-Prong</option>
                        </select>
                    </div>
                </div>




                <div class="dropdowns-row">
                    <div class="form-group">
                        <label for="centerStoneType">{{ vm.design.jewelry_type !== 'ring' ? 'Stone 1' : 'Center Stone' }}:</label>
                        <select id="centerStoneType" ng-model="vm.design.center_stone_type">
                            <option value="">-- Select --</option>
                            <option value="diamond">Diamond</option>
                            <option value="alexandrite">Alexandrite</option>
                            <option value="amethyst">Amethyst</option>
                            <option value="aquamarine">Aquamarine</option>
                            <option value="black_diamond">Black Diamond</option>
                            <option value="blue_topaz">Blue Topaz</option>
                            <option value="chrysoberyl">Chrysoberyl</option>
                            <option value="citrine">Citrine</option>
                            <option value="emerald">Emerald</option>
                            <option value="garnet">Garnet</option>
                            <option value="morganite">Morganite</option>
                            <option value="opal">Opal</option>
                            <option value="paraiba">Paraiba</option>
                            <option value="peridot">Peridot</option>
                            <option value="pink_tourmaline">Pink Tourmaline</option>
                            <option value="ruby">Ruby</option>
                            <option value="salt_pepper_diamond">Salt & Pepper Diamond</option>
                            <option value="sapphire">Sapphire</option>
                            <option value="spinel">Spinel</option>
                            <option value="tanzanite">Tanzanite</option>
                            <option value="zircon">Zircon</option>
                        </select>
                    </div>
                        
                    <div class="form-group">
                        <label for="centerStoneShape">{{ vm.design.jewelry_type !== 'ring' ? 'Stone 1 Shape' : 'Center Stone Shape' }}:</label>
                        <select id="centerStoneShape" ng-model="vm.design.center_stone_shape">
                            <option value="">-- Select --</option>
                            <option value="asscher">Asscher</option>
                            <option value="baguette">Baguette</option>
                            <option value="cushion">Cushion</option>
                            <option value="emerald">Emerald</option>
                            <option value="heart">Heart</option>
                            <option value="hexagon">Hexagon</option>
                            <option value="kite">Kite</option>
                            <option value="marquise">Marquise</option>
                            <option value="oval">Oval</option>
                            <option value="pear">Pear</option>
                            <option value="princess">Princess</option>
                            <option value="radiant">Radiant</option>
                            <option value="rose_cut">Rose Cut</option>
                            <option value="round">Round</option>
                            <option value="shield">Shield</option>
                            <option value="trillion">Trillion</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="centerStoneCut">{{ vm.design.jewelry_type !== 'ring' ? 'Stone 1 Cut' : 'Center Stone Cut' }}:</label>
                        <select id="centerStoneCut" ng-model="vm.design.center_stone_cut">
                            <option value="">-- Select --</option>
                            <option value="cushion">Cushion</option>
                            <option value="emerald">Emerald</option>
                            <option value="heart">Heart</option>
                            <option value="marquise">Marquise</option>
                            <option value="oval">Oval</option>
                            <option value="pear">Pear</option>
                            <option value="princess">Princess</option>
                            <option value="radiant">Radiant</option>
                            <option value="round">Round</option>
                            <option value="trillion">Trillion</option>
                        </select>
                    </div>
                </div>
                <div class="dropdowns-row">
                    <div class="form-group">
                        <label for="sideStoneType">{{ vm.design.jewelry_type !== 'ring' ? 'Stone 2' : 'Side Stone Type' }}:</label>
                        <select id="sideStoneType" ng-model="vm.design.side_stone_type">
                            <option value="">-- Select --</option>
                            <option value="diamond">Diamond</option>
                            <option value="alexandrite">Alexandrite</option>
                            <option value="amethyst">Amethyst</option>
                            <option value="aquamarine">Aquamarine</option>
                            <option value="black_diamond">Black Diamond</option>
                            <option value="blue_topaz">Blue Topaz</option>
                            <option value="chrysoberyl">Chrysoberyl</option>
                            <option value="citrine">Citrine</option>
                            <option value="emerald">Emerald</option>
                            <option value="garnet">Garnet</option>
                            <option value="morganite">Morganite</option>
                            <option value="opal">Opal</option>
                            <option value="paraiba">Paraiba</option>
                            <option value="peridot">Peridot</option>
                            <option value="pink_tourmaline">Pink Tourmaline</option>
                            <option value="ruby">Ruby</option>
                            <option value="salt_pepper_diamond">Salt & Pepper Diamond</option>
                            <option value="sapphire">Sapphire</option>
                            <option value="spinel">Spinel</option>
                            <option value="tanzanite">Tanzanite</option>
                            <option value="zircon">Zircon</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="sideStoneShape">{{ vm.design.jewelry_type !== 'ring' ? 'Stone 2 Shape' : 'Side Stone Shape' }}:</label>
                        <select id="sideStoneShape" ng-model="vm.design.side_stone_shape">
                            <option value="">-- Select --</option>
                            <option value="asscher">Asscher</option>
                            <option value="baguette">Baguette</option>
                            <option value="cushion">Cushion</option>
                            <option value="emerald">Emerald</option>
                            <option value="heart">Heart</option>
                            <option value="hexagon">Hexagon</option>
                            <option value="kite">Kite</option>
                            <option value="marquise">Marquise</option>
                            <option value="oval">Oval</option>
                            <option value="pear">Pear</option>
                            <option value="princess">Princess</option>
                            <option value="radiant">Radiant</option>
                            <option value="rose_cut">Rose Cut</option>
                            <option value="round">Round</option>
                            <option value="shield">Shield</option>
                            <option value="trillion">Trillion</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="sideStoneCut">{{ vm.design.jewelry_type !== 'ring' ? 'Stone 2 Cut' : 'Side Stone Cut' }}:</label>
                        <select id="sideStoneCut" ng-model="vm.design.side_stone_cut">
                            <option value="">-- Select --</option>
                            <option value="cushion">Cushion</option>
                            <option value="emerald">Emerald</option>
                            <option value="heart">Heart</option>
                            <option value="marquise">Marquise</option>
                            <option value="oval">Oval</option>
                            <option value="pear">Pear</option>
                            <option value="princess">Princess</option>
                            <option value="radiant">Radiant</option>
                            <option value="round">Round</option>
                            <option value="trillion">Trillion</option>
                        </select>
                    </div>

                </div>

                <div class="form-group">
                    <label>For:</label>
                    <input type="radio" id="men" ng-model="vm.design.gender" value="men">
                    <label for="men">Men</label>
                    <input type="radio" id="women" ng-model="vm.design.gender" value="women">
                    <label for="women">Women</label>
                    <input type="radio" id="unisex" ng-model="vm.design.gender" value="unisex">
                    <label for="unisex">Unisex</label>
                </div>

                <div class="model-size-row">
                    <div class="form-group">
                        <label for="model">AI Model:</label>
                        <select id="model" ng-model="vm.design.model">
                            <option value="5c232a9e-9061-4777-980a-ddc8e65647c6">Leonardo Diffusion</option>
                            <option value="b2614463-296c-462a-9586-aafdb8f00e36">Alchemy (SDXL)</option>
                            <option value="28aeddf8-bd19-4803-80fc-79602d1a9989">PhotoReal</option>
                            <option value="05ce0082-2d80-4a2d-8653-4d1c85e2418e">DreamShaper</option>
                            <option value="de7d3faf-762f-48e0-b3b7-9d0ac3a3fcf3">Absolute Reality</option>
                            <option value="together-flux1.dev">Together-black-forest-labs/FLUX.1-dev</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Number of Images:</label>
                        <div class="quantity-control">
                            <button ng-click="vm.decrementImages()" ng-disabled="vm.design.numImages <= 1">-</button>
                            <span>{{ vm.design.numImages }}</span>
                            <button ng-click="vm.incrementImages()" ng-disabled="vm.design.numImages >= 8">+</button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="description">Further Description :</label>
                    <textarea id="description" ng-model="vm.design.description" rows="4" placeholder="Enter additional details..."></textarea>
                </div>
                <div class="dropdowns-row">
                    <div class="form-group enhance-prompt-checkbox"> 
                        <label for="enhancePrompt">Enhance Prompt with AI</label> 
                        <input type="checkbox" id="enhancePrompt" ng-model="vm.design.enhancePrompt">
                    </div>
                    <div class="form-group">
                        <label for="description">Challenge :</label>
                        <input type="text" id="challenge" ng-model="vm.design.challenge" placeholder="Enter challenge passphrase..."></input>
                    </div>
                </div>
                <button ng-click="vm.generateImages()" ng-disabled="vm.isLoading">
                    <span ng-if="!vm.isLoading">Generate Images</span>
                    <span ng-if="vm.isLoading">Generating... Please wait</span>
                </button>

                <div ng-if="vm.errorMessage" class="error-message">
                    {{ vm.errorMessage }}
                </div>
                {% endraw %}
            </div> <div class="right-panel">
                <h2>Current Generation:</h2>
                <div class="image-gallery" ng-if="vm.images.length > 0">
                    <div class="image-grid">
                        {% raw %}
                        <div class="image-item" ng-repeat="image in vm.images track by $index">
                            <img ng-src="{{ image }}" alt="Generated Jewelry Design {{ $index + 1 }}">
                        </div>
                        {% endraw %}
                    </div>
                </div>
                <div ng-if="vm.images.length === 0 && !vm.isLoading" class="no-images-message">
                    Your newly generated designs will appear here.
                </div>
                <div ng-if="vm.isLoading" class="loading-message">
                    Generating... Please wait.
                </div>
            </div> </div> <div class="saved-designs-section">
            <div class="header-line"></div>
            <h2>Previously Generated Designs:</h2>
            <div ng-if="vm.savedDesigns.length === 0" class="no-images-message">
                No previous designs found. Generate some!
            </div>
            <div class="saved-designs-grid">
                {% raw %}
                <div class="saved-design-folder" ng-repeat="design in vm.savedDesigns">
                    <h3>Prompt:</h3>
                    <p class="saved-prompt-text">{{ design.prompt }}</p>
                    <div class="image-grid">
                        <div class="image-item" ng-repeat="image in design.images track by $index">
                            <img ng-src="{{ image }}" alt="Saved Design Image {{ $index + 1 }}">
                        </div>
                    </div>
                </div>
                {% endraw %}
            </div>
        </div>

    </div> 

</body>
</html>